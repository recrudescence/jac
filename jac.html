<head>
  <title>Todo List</title>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="text/html" href="jac.css">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>

  </head>

  <body>

    <div class="container">
      <div class="max col-md-12">
      {{>loginButtons}}
      {{#if currentUser}}
        <div id="list-container" class="max col-md-8">
          <div class="panel panel-default">
            <span>
              <a href="#" id="add" class="btn btn-primary col-md-12">Add New</a>
              {{> taskTemplate}}
            </span>
            <div class="panel-body">
              <div class="content-scrollable list-items">
                <br>
                {{#each tasks}}
                  {{> task}}
                {{/each}}
              </div>
            </div>
          </div>
        </div>

        <div id="profile-container" class="max col-md-4">
          <div class="row">
            <div class="panel panel-default profile"><div class="panel-body">
            PROFILE PROFILE PROFILE
            </div></div>
          </div>
          <div class="row">
            <div class="panel panel-default social"><div class="panel-body">
              SOCIAL SOCIAL SOCIAL
            </div></div>
          </div>
        </div>
        {{else}}

        {{/if}}
      </div>
    </div>

  </body>

<template name="taskTemplate">
  <div class="modal fade container" id="taskModal">
    <div class="col-md-12">
      <div class="max col-md-8">
        <div class="modal-content">

          <div class="modal-header">
            <h1 class="modal-title">Current Task</h1>
          </div>

          <div class="modal-body">
            <div class="form-horizontal">
              <div class="form-group">
                <label for="name" class="col-md-2 control-label">Name</label>
                <div class="col-md-9">
                <input type="text" class="form-control" id="name" value={{task.name}} placeholder="make a pizza"/>
              </div></div>
              <div class="form-group">
                <label for="start-date" class="col-md-2 control-label">Start Date</label>
                <div class="col-md-4">
                <input type="date" class="form-control" value={{task.startDate}} name="start-date"/>          
              </div>
                <label for="value" class="col-md-1 control-label">Value</label>
                <div class="col-md-4">
                <input type="number" class="form-control" value={{task.value}} id="value" step=".50" min=".50" max="10">
              </div></div>
              <div class="form-group">
                <label for="due-date" class="col-md-2 control-label">Due Date</label>
                <div class="col-md-4">
                <input type="date" class="form-control" value={{task.dueDate}} name="due-date"/>
              </div>
                <label for="public" class="col-md-1 control-label">Public?</label>
                <div class="col-md-4">
                <input type="checkbox" class="largebox" value={{task.public}} name="public"/>
              </div></div>
              <div class="form-group">
                <label for="notes" class="col-md-2 control-label">Notes</label>
                <div class="col-md-9">
                  <textarea rows="4" cols="30" value={{task.notes}} id="notes" class="form-control" placeholder="tomato, sausage, pepperoni, cheese!"></textarea>
              </div></div>

              <div class="form-group">
                <div class="col-md-offset-2 col-md-9">
                  <button type="button" class="btn btn-primary" id="save">Save</button>
                  <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
              </div></div>

            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</template>

<template name="taskView">
  <div class="modal fade container" id="taskModalView">
    <div class="col-md-12">
      <div class="max col-md-8">
        <div class="modal-content">

          <div class="modal-header">
            <h1 class="modal-title">Current Task</h1>
          </div>

          <div class="modal-body">
            <div class="form-horizontal">
              <div class="form-group">
                <label for="name" class="col-md-2 control-label">Name</label>
                <div class="col-md-9">
                {{task.name}}
              </div></div>
              <div class="form-group">
                <label for="start-date" class="col-md-2 control-label">Start Date</label>
                <div class="col-md-4">
                {{task.startDate}}
              </div>
                <label for="value" class="col-md-1 control-label">Value</label>
                <div class="col-md-4">
                {{task.value}}
              </div></div>
              <div class="form-group">
                <label for="due-date" class="col-md-2 control-label">Due Date</label>
                <div class="col-md-4">
                {{task.dueDate}}
              </div>
                <label for="public" class="col-md-1 control-label">Public?</label>
                <div class="col-md-4">
                {{task.public}}
              </div></div>
              <div class="form-group">
                <label for="notes" class="col-md-2 control-label">Notes</label>
                <div class="col-md-9">
                  {{task.notes}}
              </div></div>

              <div class="form-group">
                <div class="col-md-offset-2 col-md-9">
                  <button type="button" class="btn btn-primary" id="edit">Save</button>
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div></div>

            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</template>

<template name="task">
  <div class="{{#if checked}}checked{{/if}}">
    

    <label class="checkbox">
      <input type="checkbox" checked="{{completed}}" name="checked" class="toggle-checked" >
      <span class="checkbox-custom"></span>
    </label>

    <span class="task" data-id="{{_id}}">
      <a href="#" id="edit">{{name}}</a>
  	</span>

    <button class="delete">&times;</button>

  </div>
</template>