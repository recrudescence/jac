<head>
  <title>Todo List</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="jac.css">


  </head>

  <body>

    <div class="container">
      <div class="max col-md-12">
      {{#if currentUser}}
        <div id="list-container" class="max col-md-8">
          <div class="panel panel-default">
            <span>
              <a href="#" id="add" class="btn btn-primary col-md-12">Add New</a>
              {{> taskTemplate}}
            </span>
            <div class="panel-body">
              <div class="content-scrollable list-items">
                <br>
                {{#each tasks}}
                  {{> task}}
                {{/each}}
              </div>
            </div>
          </div>
        </div>


        <div id="profile-container" class="max col-md-3">
          <div class="row">
            <div class="panel panel-default profile"><div class="panel-body">
            {{> user}}
            </div></div>

          </div>
          <div class="row">
            <div class="panel panel-default social"><div class="panel-body">
              <h3>Your Friends</h3>
              {{#each friends}}
                {{> friend}}
              {{/each}}
            </div></div>
          </div>
        </div>
        {{else}}

    <div class="site-wrapper">

      <div class="site-wrapper-inner">

        <div class="cover-container">

            <div class="inner cover">
            <h1 class="cover-heading">Welcome to TrackerJac</h1>
            <p class="lead">If you've ever had trouble finding motivation to complete your tasks -- if you always forget to pay your friends back -- if you seek true meaning in life... TrackerJac is here.</p>
            <p class="lead">
                        {{>loginButtons}}
            </p>
          </div>
        </div>
      </div></div>
        {{/if}}
      </div>
    </div>
<footer class="footer">
  <small>Made with computers by Ashley, Calvin, Jazzie for WHACK 2015</small>
</footer>
  </body>



<template name="taskTemplate">
  <div class="modal fade container" id="taskModal">
    <div class="col-md-12">
      <div class="max col-md-8">
        <div class="modal-content">

          <div class="modal-header">
            <h1 class="modal-title">Current Task</h1>
          </div>

          <div class="modal-body">
            <div class="form-horizontal">
              <div class="form-group">
                <label for="name" class="col-md-2 control-label">Name</label>
                <div class="col-md-9">
                <input type="text" class="form-control" id="name" value={{task.name}} placeholder="make a pizza"/>
              </div></div>
              <div class="form-group">
                <label for="start-date" class="col-md-2 control-label">Start Date</label>
                <div class="col-md-4">
                <input type="date" class="form-control" value={{task.startDate}} name="start-date" id="start-date"/>          
              </div>
                <label for="value" class="col-md-1 control-label">Value</label>
                <div class="col-md-4">
                <input type="number" class="form-control" value={{task.value}} id="value" step=".50" min=".50" max="10">
              </div></div>
              <div class="form-group">
                <label for="due-date" class="col-md-2 control-label">Due Date</label>
                <div class="col-md-4">
                <input type="date" class="form-control" value={{task.dueDate}} name="due-date" id="due-date"/>
              </div>
                <label for="public" class="col-md-1 control-label">Public?</label>
                <div class="col-md-4">
                <input type="checkbox" class="largebox" value={{task.public}} name="public" id="public"/>
              </div></div>
              <div class="form-group">
                <label for="notes" class="col-md-2 control-label">Notes</label>
                <div class="col-md-9">
                  <textarea rows="4" cols="30" value={{task.notes}} id="notes" class="form-control" placeholder="tomato, sausage, pepperoni, cheese!"></textarea>
              </div></div>

              <div class="form-group">
                <div class="col-md-offset-2 col-md-9">
                  <button type="button" class="btn btn-primary" id="save">Save</button>
                  <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
              </div></div>

            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</template>

<template name="taskView">
  <div class="modal fade container" id="taskModalView">
    <div class="col-md-12">
      <div class="max col-md-8">
        <div class="modal-content">

          <div class="modal-header">
            <h1 class="modal-title">Current Task</h1>
          </div>

          <div class="modal-body">
            <div class="form-horizontal">
              <div class="form-group">
                <label for="name" class="col-md-2 control-label">Name</label>
                <div class="col-md-9">
                {{task.name}}
              </div></div>
              <div class="form-group">
                <label for="start-date" class="col-md-2 control-label">Start Date</label>
                <div class="col-md-4">
                {{task.startDate}}
              </div>
                <label for="value" class="col-md-1 control-label">Value</label>
                <div class="col-md-4">
                {{task.value}}
              </div></div>
              <div class="form-group">
                <label for="due-date" class="col-md-2 control-label">Due Date</label>
                <div class="col-md-4">
                {{task.dueDate}}
              </div>
                <label for="public" class="col-md-1 control-label">Public?</label>
                <div class="col-md-4">
                {{task.public}}
              </div></div>
              <div class="form-group">
                <label for="notes" class="col-md-2 control-label">Notes</label>
                <div class="col-md-9">
                  {{task.notes}}
              </div></div>

              <div class="form-group">
                <div class="col-md-offset-2 col-md-9">
                  <button type="button" class="btn btn-primary" id="edit">Save</button>
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div></div>

            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</template>

<template name="task">
  <div class="{{#if checked}}checked{{/if}}">
    

    <label class="checkbox">
      <input type="checkbox" checked="{{completed}}" name="checked" class="toggle-checked" >
      <span class="checkbox-custom"></span>
    </label>

    <span class="task" data-id="{{_id}}">
      <a href="#" id="edit">{{name}}</a>
  	</span>

    <!-- <span class="pull-right"><i>{{formatDate dueDate}}</i></span> -->
  </div>
</template>

<template name="user">
  
  <p align="right">{{>loginButtons}}<br></p>
  <div style="width:100%;height:200px;overflow:hidden">
  <img class="prof" src="//graph.facebook.com/{{currentUser.services.facebook.id}}/picture?width=300">
  </div>
  <center><h3>Balance: {{currentUser.debt}}</h3></center>

</template>

<template name="friend">
  <div class="media">
    <div class="media-left">
      <a href="#">
        <img class="media object" src="//graph.facebook.com/{{id}}/picture">
      </a>
    </div>
    <div class="media-body">
      <h4 class="media-heading">{{name}}</h4>
    </div>
  </div>
</template>
